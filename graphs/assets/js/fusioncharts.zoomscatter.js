/*
 FusionCharts JavaScript Library - KDtree
 Copyright FusionCharts Technologies LLP
 License Information at <http://www.fusioncharts.com/license>

 @version 3.11.3
 FusionCharts JavaScript Library - ZoomScatter Chart
 Copyright FusionCharts Technologies LLP
 License Information at <http://www.fusioncharts.com/license>

 @version 3.11.3
*/
(function(E,O){"object"===typeof module&&module.exports?module.exports=E.document?O(E):function(y){if(!y.document)throw Error("Window with document not present");return O(y,!0)}:E.FusionCharts=O(E,!0)})("undefined"!==typeof window?window:this,function(E,O){FusionCharts.register("module",["private","modules.renderer.js-kdtree",function(){function y(g){this.configure(g)}var w=this.hcLib,E=function(g,k){return g.x-k.x},I=function(g,k){return g.y-k.y},S=function(g,k,m,q,t){return Math.pow(m-g,2)+Math.pow(q-
k,2)<=Math.pow(t,2)},aa=Math.PI,O=Math.cos,Y=Math.sin,L=Math.max,H=Math.min,x=aa/180,J=function(g,k,m,q,t,D){return m<=L(g,t)&&m>=H(g,t)&&q<=L(k,D)&&q>=H(k,D)?!0:!1},W=function(g,k,m,q,t,D){k=(q-k)*(t-m);g=(m-g)*(D-q);isNaN(k)&&(k=0);isNaN(g)&&(g=0);g=k-g;return 0===g?0:0<g?1:2};y.prototype={configure:function(g){this.validatorFn=g?this.shapeValidator():this.defaultValidator()},defaultValidator:function(){var g=this;return function(k){var m=g.mousePoint;return k&&1>=Math.pow((k.x-m.x)/g.xLimit,2)+
Math.pow((k.y-m.y)/g.yLimit,2)?!0:!1}},shapeValidator:function(){var g=this;return function(k){var m=g.mousePoint,q=k&&k.shapeInfo,t=!1,D,A=m.x,m=m.y,C;switch(q&&q.type){case "circle":D=q.radius;t=S(A,m,k.x,k.y,D);break;case "arc":t=q.innerradius;D=q.radius;t=!S(A,m,k.x,k.y,t)&&S(A,m,k.x,k.y,D);break;case "polygon":D=q.radius;C=q.startAngle;q=q.sides;a:{t=k.x;k=k.y;var u,w=0,y,M,N,H,L;u=!1;if(S(A,m,t,k,D)&&3<=q){u=void 0===C?.5*aa:C%360*x;L=2*aa/q;y=t+D*O(-u);H=k+D*Y(-u);for(C=0;C<q;C++){u+=L;M=t+
D*O(-u);N=k+D*Y(-u);var I=y,E=H,G=M,Q=N,K=A,V=m,U=m,c=W(I,E,G,Q,K,V),b=W(I,E,G,Q,Infinity,U),a=W(K,V,Infinity,U,I,E),d=W(K,V,Infinity,U,G,Q);if(c!==b&&a!==d||0===c&&J(I,E,K,V,G,Q)||0===b&&J(I,E,Infinity,U,G,Q)||0===a&&J(K,V,I,E,Infinity,U)||0===d&&J(K,V,G,Q,Infinity,U)){if(0===W(y,H,A,m,M,N)){t=J(y,H,A,m,M,N);break a}w++}y=M;H=N}u=0!==w%2}t=u}break;case "rect":t=k.x;D=k.y;k=t+(q.width||0);q=D+(q.height||0);t=A>=t&&A<=k&&m>=D&&m<=q;break;case "default":t=!1}return t}},buildKdTree:function(g){this.tree=
this._buildKdTree(g,!1)},getNeighbour:function(g){var k=this.tree,m={x1:g.x-this.xLimit,x2:g.x+this.xLimit,y1:g.y-this.yLimit,y2:g.y+this.yLimit},q=this.validatorFn;this.mousePoint=g;if(k)return this._searchBtwnLimit(m,k,!1,q)},_compair2closest:function(g,k){if(g){if(k)return k.i>g.i?k:g}else return k;return g},_searchBtwnLimit:function(g,k,m,q){var t,w,A,C;A=m?"x":"y";var u=m?g.x1:g.y1,x=m?g.x2:g.y2;if(k)return t=k.point1?k.point1[A]:x,w=k.point2?k.point2[A]:x,A=k.point3?k.point3[A]:x,q(k.point1)&&
(C=this._compair2closest(C,k.point1)),t>=u&&k.left&&(C=this._compair2closest(C,this._searchBtwnLimit(g,k.left,!m,q))),t<=x&&k.middle1&&(q(k.point2)&&(C=this._compair2closest(C,k.point2)),w>=u&&(C=this._compair2closest(C,this._searchBtwnLimit(g,k.middle1,!m,q))),w<=x&&k.middle2&&(q(k.point3)&&(C=this._compair2closest(C,k.point3)),A>=u&&(C=this._compair2closest(C,this._searchBtwnLimit(g,k.middle2,!m,q))),A<=x&&k.right&&(C=this._compair2closest(C,this._searchBtwnLimit(g,k.right,!m,q))))),C},_buildKdTree:function(g,
k){var m,q,t;if(m=g&&g.length)return g.sort(k?E:I),7<m?(m=Math.floor(m/4),q=2*(m+1)-1,t=3*(m+1)-1,{left:this._buildKdTree(g.slice(0,m),!k),point1:g[m],middle1:this._buildKdTree(g.slice(m+1,q),!k),point2:g[q],middle2:this._buildKdTree(g.slice(q+1,t),!k),point3:g[t],right:this._buildKdTree(g.slice(t+1),!k)}):{left:2<=m?{point1:g[0]}:void 0,point1:1<=m?1===m?g[0]:g[1]:void 0,middle1:3<=m?{point1:g[2]}:void 0,point2:4<=m?g[3]:void 0,middle2:5<=m?{point1:g[4]}:void 0,point3:6<=m?g[5]:void 0,right:7==m?
{point1:g[6]}:void 0}},_setSearchLimit:function(g,k){this.xLimit=g;this.yLimit=k}};y.prototype.constructor=y;w.KdTree=y}]);FusionCharts.register("module",["private","modules.renderer.js-zoomscatter",function(){var y=this,w=y.hcLib,E=w.parseTooltext,I=w.Raphael,S=y.window,O=w.addEvent,ca=w.removeEvent,Y=S.MouseEvent,L=S.document,H=w.BLANKSTRING,x=w.pluck,J=w.pluckNumber,W=w.getFirstValue,g=w.toRaphaelColor,k=w.hasSVG,m=w.isIE,q=w.getFirstColor,t=w.hasTouch,D="rgba(192,192,192,"+(m?.002:1E-6)+")",A=
Math,C=A.round,u=A.min,P=A.max,Z=A.abs,M=A.cos,N=A.sin,ba=A.floor,da=2*Math.PI,ea=w.getMouseCoordinate,fa=w.POSITION_BOTTOM,G=w.chartAPI,Q=w.HUNDREDSTRING,A=!/fusioncharts\.com$/i.test(S.location.hostname),K=function(c,b){var a=ea(b.linkedItems.container,c),d=a.chartX,e=a.chartY,f=b.config,n=f.canvasLeft,p=f.canvasTop,h=f.canvasLeft+f.canvasWidth,f=f.canvasHeight+f.canvasTop;a.insideCanvas=!1;a.originalEvent=c;d>n&&d<h&&e>p&&e<f&&(a.insideCanvas=!0);return a},V=function(c,b,a){var d;b&&c&&(a||(a=
{}),a.originalEvent&&(a=a.originalEvent),a.touches&&(a=a.touches[0]),b.dispatchEvent?(Y?d=new Y(c,{bubbles:!!a.bubbles,cancelable:!!a.cancelable,clientX:a.clientX||a.pageX&&a.pageX-L.body.scrollLeft-L.documentElement.scrollLeft||0,clientY:a.clientY||a.pageY&&a.pageY-L.body.scrollTop-L.documentElement.scrollTop||0,screenX:a.screenX||0,screenY:a.screenY||0,pageX:a.pageX||0,pageY:a.pageY||0}):L.createEvent&&(d=L.createEvent("HTMLEvents"),d.initEvent(c,!!a.bubbles,!!a.cancelable)),d.eventName=c,d&&b.dispatchEvent(d)):
L.createEventObject&&b.fireEvent&&(d=L.createEventObject(),d.eventType=c,d.eventName=c,b.fireEvent("on"+c,d)))},U=w.KdTree;G("zoomscatter",{standaloneInit:!0,defaultDatasetType:"zoomscatter",applicableDSList:{zoomscatter:!0},highlightEnabled:!1,friendlyName:"ZoomScatter Chart",isXY:!0,defaultZeroPlaneHighlighted:!1,creditLabel:A,configure:function(){var c,b=this.config;G.scatter.configure.apply(this,arguments);c=this.jsonData.chart;b.stepZoom=1-J(c.stepzoom,25)/100;b.showToolBarButtonToolText=J(c.showtoolbarbuttontooltext,
1);b.btnResetChartToolText=x(c.btnresetcharttooltext,"Reset Chart");b.btnZoomOutToolText=x(c.btnzoomouttooltext,"Zoom out to previous level");b.btnZoomInToolText=x(c.btnzoomintooltext,"<strong>Zoom in</strong><br/>Or double-click on plot to zoom-in");b.btnSelectZoomToolText=x(c.btnselectzoomtooltext,"<strong>Select a region to zoom-in</strong><br/>Click to enable pan mode.");b.btnPanToolText=x(c.btnpantooltext,"<strong>Drag to move across chart</strong><br/>Click to enable select-zoom mode.")},_setAxisLimits:function(){var c=
this.jsonData,b=this.components.xAxis,a=x(c.chart.xaxislabelmode,"categories"),c=c.categories&&c.categories[0],c=(c&&c.category||[]).slice(),d,e=Infinity,f=-Infinity,n;if("auto"===a||0===c.length){G.mscartesian._setAxisLimits.call(this);a=b[0].getLimit();b[0].setAxisConfig({hasCategory:0});b[0].resetCategoryAxisComponents();for(d=0;d<c.length;d+=1)if(n=c[d].x)n<e&&(e=n),n>f&&(f=n);if(f>a.max||e<a.min)f=P(f,a.max),e=u(e,a.min),b[0].setDataLimit(f,e)}else b[0].resetNumericAxisComponents(),G.scatterBase._setAxisLimits.call(this)},
_createAxes:function(){var c=this.components;G.scatter._createAxes.call(this,arguments);c.yAxis[0].setAxisConfig({animateAxis:!1});c.xAxis[0].setAxisConfig({animateAxis:!1})},_spaceManager:function(){var c,b,a=this.config,d=this.components,e=d.xAxis&&d.xAxis[0];b=d.yAxis&&d.yAxis||[];var f,n,p=d.legend.config.legendPos,h=a.xDepth,l=a.yDepth,B=a.canvasBgDepth,z=a.canvasBaseDepth,k=a.canvasBasePadding,X=d.canvas.config.canvasBorderWidth,g=a.realTimeConfig&&a.realTimeConfig.showRTValue,r=a.borderWidth,
F=a.canvasMarginTop,T=a.canvasMarginBottom,v=a.canvasMarginLeft,R=a.canvasMarginRight,d=a.minCanvasHeight,m=a.minCanvasWidth;c=a.minChartWidth;var q=a.minChartHeight,t=a.height,u=a.width,w=a._initConfig||(a._initConfig={}),x=!1,C=a.origCanvasTopMargin,A=a.origCanvasBottomMargin,y,D,E=[];w.canvasLeft=a.canvasLeft;w.canvasWidth=a.canvasWidth;w.canvasHeight=a.canvasHeight;w.canvasTop=a.canvasTop;w.availableHeight=a.availableHeight;w.availableWidth=a.availableWidth;a.canvasWidth-2*r<c&&(n=(a.canvasWidth-
c)/2);a.canvasHeight-2*r<q&&(f=(a.canvasHeight-q)/2);this._allocateSpace({top:f||r,bottom:f||r,left:n||r,right:n||r});a.origCanvasWidth=a.canvasWidth;a.origCanvasLeft=a.canvasLeft;a.canvasRight=a.canvasLeft+a.canvasWidth;a.origCanvasRight=a.canvasRight;r=0;for(n=b.length;r<n;r++)f=b[r],c=.7*a.availableWidth,c=f&&f.placeAxis(c)||{},E.push({axisIndex:r,spaceTaken:c}),f&&this._allocateSpace(c);b=.7*a.canvasHeight;this._manageActionBarSpace&&this._allocateSpace(this._manageActionBarSpace(b));this._manageLegendSpace(void 0);
l&&(this._allocateSpace({bottom:l}),a.shift=h+k+z);B&&this._allocateSpace({right:B});a.canvasWidth-2*X<m&&(D=(a.canvasWidth-m)/2);this._allocateSpace({left:D||X,right:D||X});m>u-v-R&&(l=a.canvasWidth-m,h=v+R,v=a.canvasMarginLeft=l*v/h,R=a.canvasMarginRight=l*R/h);v=v>a.canvasLeft?v-a.canvasLeft:0;this._allocateSpace({left:v,right:R>u-a.canvasRight?R+a.canvasRight-u:0});b=p===fa?.6*a.canvasHeight:.6*a.canvasWidth;this._manageChartMenuBar(b);b=.2*a.availableHeight;this._allocateSpace(this._getSumValueSpace(b));
b=.3*a.availableHeight;a.origCanvasHeight=a.canvasHeight;a.canvasBottom=a.canvasTop+a.canvasHeight;a.origCanvasBottom=a.canvasBottom;a.origCanvasTop=a.canvasTop;a.realtimeEnabled&&(g?this._allocateSpace(this._realTimeValuePositioning(b)):this._hideRealTimeValue());b=.6*a.availableHeight;a.xAxisSpaceAllocation=p=e&&e.placeAxis(b);e&&this._allocateSpace(p);this._getDSspace&&this._allocateSpace(this._getDSspace(.4*a.canvasWidth));b=.3*a.availableHeight;this._manageScrollerPosition&&this._manageScrollerPosition(b);
a.canvasHeight-2*X<d&&(y=(a.canvasHeight-d)/2);this._allocateSpace({top:y||X,bottom:y||X});this._allocateSpace({bottom:z});d>t-F-T&&(x=!0,l=a.canvasHeight-d,h=F+T,F=a.canvasMarginTop=l*F/h,T=a.canvasMarginBottom=l*T/h);e=F>a.canvasTop?F-a.canvasTop:0;z=T>t-a.canvasBottom?T+a.canvasBottom-t:0;this._allocateSpace({top:e,bottom:z});x&&(h=C+A,x=a.canvasHeight,x>d&&(l=x-d,e=l*C/h,z=l*A/h),this._allocateSpace({top:e,bottom:z}));a.actualCanvasMarginTop=e;a.actualCanvasMarginLeft=v},_createToolBox:function(){var c,
b,a,d,e,f,n,p,h,l=this,B=l.config;d=l.components;c=d.chartMenuBar;b=d.actionBar;h=B.showToolBarButtonToolText;var z=B.stepZoom;c&&c.drawn||b&&b.drawn||(G.mscartesian._createToolBox.call(l),c=d.tb,b=c.graphics||(c.graphics={}),a=c.getAPIInstances(c.ALIGNMENT_HORIZONTAL),a=a.Symbol,d=(d.chartMenuBar||d.actionBar).componentGroups[0],e=b.zoomInButton=(new a("zoomInIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){l.zoom(z)},tooltext:h&&B.btnZoomInToolText||H}),f=b.zoomOutButton=(new a("zoomOutIcon",
void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){var a=B.viewPortHistory;1<a.length&&(a=a.slice(-2,-1)[0],l.updateVisual(a.x,a.y,a.scaleX,a.scaleY))},tooltext:h&&B.btnZoomOutToolText||H}),n=b.resetButton=(new a("resetIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){var a=B.viewPortConfig,b=l.graphics;1<B.viewPortHistory.length&&(a.isReset=!0,l.zoomSelection(0,0,B.canvasWidth,B.canvasHeight),B.viewPortHistory.splice(1),b.trackerGroup.attr({cursor:"default"}),l.updateButtonVisual(),
l.updateSelectionBox(0,0,0,0));y.raiseEvent("zoomReset",{},l.chartInstance,[l.chartInstance.id])},tooltext:h&&B.btnResetChartToolText||H}),p=b.toggleZoomInButton=(new a("zoomModeIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){l.toogleDragPan(!0)},tooltext:h&&B.btnSelectZoomToolText||H}),h=b.togglePanButton=(new a("panModeIcon",void 0,c.idCount++,c.pId)).attachEventHandlers({click:function(){l.toogleDragPan(!0)},tooltext:h&&B.btnPanToolText||H}),d.addSymbol(h,!0),d.addSymbol(p,
!0),d.addSymbol(n,!0),d.addSymbol(f,!0),d.addSymbol(e,!0))},_createLayers:function(){var c=this.graphics,b=this.components.paper;G.scatter._createLayers.call(this);!c.imageContainer&&(c.imageContainer=b.group("dataset-orphan",c.datasetGroup));this.__preDraw()},_dist:function(c,b){var a=this.components,d;d=a.xAxis[0];a=a.yAxis[0];if(c&&b)return d=(c.x-b.x)*d.getPVR(),a=(c.y-b.y)*a.getPVR(),Math.sqrt(Math.pow(d,2)+Math.pow(a,2))},__preDraw:function(){var c=this.graphics,b=c.imageContainer,a=this.config,
d=a.canvasLeft,e=a.canvasTop,f=a.canvasWidth,n=a.canvasHeight,p=this.jsonData.chart,h=this.linkedItems,h=h.eventListeners||(h.eventListeners=[]),l=this.linkedItems.container,B=this.components.paper;a.updateAnimDuration=500;b.transform("t"+d+","+e);b.attr({"clip-rect":d+","+e+","+f+","+n});a.status="zoom";a.maxZoomLimit=J(p.maxzoomlimit,1E3);a.viewPortHistory=[{scaleX:1,scaleY:1,x:0,y:0}];!c.trackerElem&&(c.trackerElem=B.rect(d,e,f,n,0,c.trackerGroup).attr({fill:D,stroke:D}));ca(l,t?"touchstart":"mousemove",
this.searchMouseMove);h.push(O(l,"touchstart mousemove",this.searchMouseMove,this));this.zoomPanManager(b)},searchMouseMove:function(c){var b,a,d,e=c.data,f=e.config,n=f.viewPortConfig;a=e.components;var p=a.xAxis[0],h=a.yAxis[0];e.linkedItems.container&&!f.isDragging&&((b=K(c,e))&&b.insideCanvas?(a=f.canvasTop,d=p.getAxisConfig("axisDimention").x||f.canvasLeft,n.lastMouseCoordinate={x:Number(p.getValue(b.chartX-d)),y:Number(h.getValue(b.chartY-a))},clearTimeout(n.neighbourSearchTimer),f.lastMouseEvent=
c,n.neighbourSearchTimer=setTimeout(function(){f.isDragging||e._bestNeighbour(n.lastMouseCoordinate)},100)):e.highlightPoint(!1))},updateSelectionBox:function(c,b,a,d){var e=this.config,f=this.graphics,n=this.components.paper,p=e.viewPortConfig,h=e.cursor,l=f.selectionBox,B=e.canvasRight,z=e.canvasLeft,k=e.canvasTop,g=e.canvasBottom,m=c<a?c:a,r=b<d?b:d,F=c>a?c:a,T=b>d?b:d,v=a-c,R=b-d,h=h?0<v&&0<R?"ne-resize":0>v&&0<R?"nw-resize":0>v&&0>R?"sw-resize":0<v&&0>R?"se-resize":"default":"default",m=m<z?
z:m>B?B:m,r=r<k?k:r>g?g:r,v=c===a&&b===d?0:(F>B?B:F<z?z:F)-m,R=c===a&&b===d?0:(T>g?g:T<k?k:T)-r;l?l.attr({x:m,y:r,width:v,height:R,cursor:h}):f.selectionBox=n.rect(m,r,v,R).attr({"stroke-width":1,stroke:"red",fill:"#00FF00",opacity:.2,cursor:h});f.trackerGroup.attr({cursor:h});e.cursor=h;p.selectionDimensions||(p.selectionDimensions={startX:0,endX:0,startY:0,endY:0});p.selectionDimensions.startX=c;p.selectionDimensions.endX=b;p.selectionDimensions.startY=a;p.selectionDimensions.endY=d},getValue:function(c){var b=
this.config,a=this.components,d=b.viewPortConfig;c=this.getOriginalPositions(c.x,c.y,c.x,c.y);var e=a.xAxis[0].config.axisRange,a=a.yAxis[0].config.axisRange,f=e.min,n=a.max;return{x:f+(c[0]-b.canvasLeft)/(b.canvasWidth*d.scaleX/(e.max-f)),y:n-(c[1]-b.canvasTop)/(b.canvasHeight*d.scaleY/(n-a.min))}},_getTouchViewPort:function(c,b,a){var d,e;e=this.config;var f=e.canvasLeft,n=e.canvasTop;d=e.canvasWidth;e=e.canvasHeight;var p=u(c[0].chartX,c[1].chartX)-f,h=u(c[0].chartY,c[1].chartY)-n,l=Math.abs(c[1].chartX-
c[0].chartX);c=Math.abs(c[1].chartY-c[0].chartY);var f=u(b[0].chartX,b[1].chartX)-f,B=u(b[0].chartY,b[1].chartY)-n,n=Math.abs(b[1].chartX-b[0].chartX)/l*a.scaleX;b=Math.abs(b[1].chartY-b[0].chartY)/c*a.scaleY;p=a.x+p/a.scaleX-f/n;a=a.y+h/a.scaleY-B/b;p=0>p?0:p;a=0>a?0:a;b=1>b?1:b;n=1>n?1:n;d-=d/n;e-=e/b;return{x:p>d?d:p,y:a>e?e:a,scaleX:n,scaleY:b}},getOriginalPositions:function(c,b,a,d){var e=this.config,f=e.viewPortConfig,n=f.scaleX,p=f.scaleY,h=f.x,f=f.y,l=u(c,a);c=P(c,a);a=u(b,d);b=P(b,d);c=c>
e.canvasWidth?e.canvasWidth:c;b=b>e.canvasHeight?e.canvasHeight:b;l=0>l?0:l;a=0>a?0:a;return[h+l/n,f+a/p,(c-l)/n,(b-a)/p]},zoomSelection:function(c,b,a,d){var e=this.config;a&&d&&(a=Math.abs(e.canvasWidth/a),d=Math.abs(e.canvasHeight/d),this.updateVisual(c,b,a,d))},toogleDragPan:function(c){var b=this.config,a=b.status;c&&(b.status="zoom"===a?"pan":"zoom",y.raiseEvent("zoomModeChanged",{panModeActive:b.status},this.chartInstance,[this.chartInstance.id]));this.updateButtonVisual()},updateManager:function(c){var b,
a=this.components.dataset,d=a.length;for(b=0;b<d;b+=1)a[b].draw(c);c||this._drawQuadrant()},zoomPanManager:function(){var c,b=[],a=[],d=this,e=d.config,f=d.graphics,n=d.components,p=n.xAxis[0],h=n.eventListeners||(n.eventListeners=[]),l=d.viewPortConfig,B=!1,z=0,k,g={},m=function(a){var b=a.chartX,d=a.chartY,c=p.getAxisConfig("axisDimention").x||e.canvasLeft,f=e.canvasTop,h=e.canvasRight,l=e.canvasBottom;b<c&&(a.chartX=P(b,c));b>h&&(a.chartX=u(b,h));d<f&&(a.chartY=P(d,f));d>l&&(a.chartY=u(d,l))},
r={start:function(a){l=e.viewPortConfig;t=a.touches?!0:!1;b[0]=K(a,d);d.updateSelectionBox(0,0,0,0);t&&(B=!1,c=a.touches.length,2===c&&(B=!0,g.x=l.x,g.y=l.y,g.scaleX=l.scaleX,g.scaleY=l.scaleY,b[0]=K(a.touches.item(0),d),b[1]=K(a.touches.item(1),d)));e.isDragging=!1;"pan"===e.status&&(e.panStartX=l.x,e.panStartY=l.y,b[0].insideCanvas&&f.trackerGroup.attr({cursor:"move"}))},on:function(c){var h,p,z,k;z=e.panStartX;var r=e.panStartY;h=l.scaleX;p=l.scaleY;var m=n.xAxis[0],ga=n.yAxis[0];t=c.touches?!0:
!1;a[0]=K(c,d);a[0].insideCanvas?"pan"===e.status&&f.trackerGroup.attr({cursor:"move"}):f.trackerGroup.attr({cursor:"default"});t&&c&&(k=c.touches.length,2===k?(B=!0,a[0]=K(c.touches.item(0),d),a[1]=K(c.touches.item(1),d)):B=!1);!e.isDragging&&(!t||2<Z(a[0].chartX-b[0].chartX)||2<Z(a[0].chartY-b[0].chartY))&&(e.isDragging=!0,d.highlightPoint(!1),"zoom"===e.status&&(b[0].pointValue=d.getValue({x:b[0].chartX,y:b[0].chartY}),y.raiseEvent("selectionStart",{chartX:b[0].chartX,chartY:b[0].chartY,pageX:b[0].pageX,
pageY:b[0].pageY,selectionTop:b[0].chartX+e.canvasLeft,selectionLeft:b[0].chartY+e.canvasTop,selectionWidth:0,selectionHeight:0,startXVAlue:b[0].pointValue.x,startYVAlue:b[0].pointValue.y},d.chartInstance,[d.chartInstance.id])));if(e.isDragging)if(B){if(b[0].insideCanvas||b[1].insideCanvas)z=d._getTouchViewPort(b,a,g),d.updateVisual(z.x,z.y,z.scaleX,z.scaleY,!0)}else"zoom"===e.status?d.updateSelectionBox(b[0].chartX,b[0].chartY,a[0].chartX,a[0].chartY):"pan"!==e.status||1===h&&1===p||!b[0].insideCanvas||
(c=b&&a[0].chartX-b[0].chartX,k=b&&a[0].chartY-b[0].chartY,z-=c/h,r-=k/p,h=e.canvasWidth*(h-1)/h,p=e.canvasHeight*(p-1)/p,l.x=z>h?h:0>z?0:z,l.y=r>p?p:0>r?0:r,d.updateManager(),m.draw(),ga.draw())},end:function(c){var h=K(c,d),l=p.getAxisConfig("axisDimention").x||e.canvasLeft,n=e.canvasTop,r;r=e.canvasWidth/4;var q=e.canvasHeight/4,h=isNaN(h.chartX)||isNaN(h.chartY)?a[0]||b[0]:h;if(e.isDragging){if(B){if(b[0].insideCanvas||b[1].insideCanvas)c=d._getTouchViewPort(b,a,g),d.updateVisual(c.x,c.y,c.scaleX,
c.scaleY);B=!1}else"zoom"===e.status&&(c=h,r=b[0],m(r),m(c),n=d.getOriginalPositions(r.chartX-l,r.chartY-n,c.chartX-l,c.chartY-n))&&(c.pointValue=d.getValue({x:c.chartX,y:c.chartY}),y.raiseEvent("selectionEnd",{chartX:c.chartX,chartY:c.chartY,pageX:c.pageX,pageY:c.pageY,selectionTop:c.chartX+e.canvasLeft,selectionLeft:c.chartY+e.canvasTop,selectionWidth:Math.abs(c.chartX-r.chartX),selectionHeight:Math.abs(c.chartY-r.chartY),startXVAlue:r.pointValue.x,startYVAlue:r.pointValue.y,endXValue:c.pointValue.x,
endYValue:c.pointValue.y},d.chartInstance,[d.chartInstance.id]),r.chartX!==c.chartX&&r.chartY!==c.chartY&&d.zoomSelection(n[0],n[1],n[2],n[3]),d.updateSelectionBox(0,0,0,0));e.isDragging=!1;c=a[0]||b[0];c.data=d;d.searchMouseMove(c)}else h.insideCanvas&&(z+=1,setTimeout(function(){z=0;k=void 0},500),2===z?(c&&c.touches?!0:!1)===k&&(l=h.chartX-l,n=h.chartY-n,n=d.getOriginalPositions(l-r,n-q,l+r,n+q),d.zoomSelection(n[0],n[1],n[2],n[3]),c.preventDefault()):k=c&&c.touches?!0:!1);f.trackerGroup.attr({cursor:"default"})}};
h.push(O(d.linkedItems.container,"pointerdrag",function(a){r[a.state](a.originalEvent)}))},_drawDataset:function(){var c,b=this.components.dataset,a=b.length;for(c=0;c<a;c+=1)b[c]._deleteGridImages(),b[c].graphics._grid={};this.updateVisual()},updateVisual:function(c,b,a,d,e){var f,n,p,h,l;f=this.config;var B=this.components,z=f.viewPortConfig;l=f.canvasWidth;var k=f.canvasHeight,g=l,m=k,r=f.viewPortHistory,m=r.slice(-1)[0],F=[],F=f.status,q=f._initConfig;n=B.xAxis[0];h=B.yAxis[0];p=this.graphics;
B=(B=B.quadrant)&&B.graphics.container;g=f.maxZoomLimit;z.x=isNaN(c)?c=m.x:c;z.y=isNaN(b)?b=m.y:b;z.scaleX=a||(a=m.scaleX);z.scaleY=d||(d=m.scaleY);a>g&&(z.x=c=u(c,l-l/g),z.scaleX=a=g);d>g&&(z.y=b=u(b,k-k/g),z.scaleY=d=g);if(e)this.updateManager(e);else for(1<a||1<d?("zoom"===F&&this.toogleDragPan(!0),a>=m.scaleX||d>=m.scaleY?(r.push({scaleX:a,scaleY:d,x:c,y:b}),F=["zoomed","zoomIn"]):(r.pop(),m=r.slice(-1)[0],z.x=m.x,z.y=m.y,z.scaleX=m.scaleX,z.scaleY=m.scaleY,F=["zoomed","zoomOut"])):(1<r.length&&
r.pop(),"pan"===F&&this.toogleDragPan(!0),F=["zoomed","zoomOut"]),this.toogleDragPan(),g=f.canvasWidth,m=f.canvasHeight,c&&(c=z.x*=g/l),b&&(z.y*=m/k),f.canvasLeft=q.canvasLeft,f.canvasWidth=q.canvasWidth,f.canvasHeight=q.canvasHeight,f.canvasTop=q.canvasTop,f.availableHeight=q.availableHeight,f.availableWidth=q.availableWidth,this._spaceManager(),this._postSpaceManagement(),this.updateManager(),n.draw(),h.draw(),this._drawCanvas(),l={"clip-rect":f.canvasLeft+","+f.canvasTop+","+f.canvasWidth+","+
f.canvasHeight},f.viewPortConfig&&this.graphics.imageContainer.attr({x:f.canvasLeft,y:f.canvasRight}),p.imageContainer.attr(l).transform("T"+f.canvasLeft+","+f.canvasTop),p.tracker&&p.tracker.attr(l),B&&B.attr(l),f=n.getValue(0),n=n.getValue(g),p=h.getValue(0),h=h.getValue(m),0===arguments.length&&(F=H),l=0;l<F.length;l+=1)"zoomed"===F[l]&&y.raiseEvent("zoomed",{level:r.length,startX:f,startY:p,endX:n,endY:h},this.chartInstance,[this.chartInstance.id]),"zoomIn"===F[l]?y.raiseEvent("zoomedIn",{level:r.length,
startX:f,startY:p,endX:n,endY:h},this.chartInstance,[this.chartInstance.id]):"zoomOut"!==F[l]||z.isReset||y.raiseEvent("zoomedOut",{level:r.length,startX:f,startY:p,endX:n,endY:h},this.chartInstance,[this.chartInstance.id]);this.highlightPoint(!1);z.isReset=!1},getFillColor:function(c,b){b=parseFloat(b/100);0>b?b=0:1<b&&(b=1);c||(c="#FFFFFF");if(m&&!k)return b?c:"transparent";c=c.replace(/^#?([a-f0-9]+)/ig,"$1");c=w.graphics.HEXtoRGB(c);c[3]=b.toString();return"rgba("+c.join(",")+")"},_bestNeighbour:function(c){var b=
this.components,a=this.config,d=b.xAxis[0],e=b.yAxis[0],f=this.jsonData.chart,n=a.canvasLeft,p=a.canvasTop,h,l,B,z,k,g,m,r,q,t,v,u;u=b.numberFormatter;q=b.dataset;for(h=q.length-1;0<=h;--h)if(b=q[h],v=b.config,l=v.showHoverEffect,r=v.showTooltip,b.components.kDTree&&b.visible&&(z=b.getElement(c),b=this._dist(c,z),!k||b<g))if(B=h,k=z,g=b,m=q[B]&&v.zoomedRadius||0,g<=m)break;g<=P(m+2,5)?(c=d.getPixel(k.x)-n,p=e.getPixel(k.y)-p,n=x(k.tooltext,v.plotToolText),b=q[B],v=b.config,q=v.tooltip.toolTipSepChar,
g=v.tooltip.seriesNameInToolTip,m=k.x,h=k.y,k&&(t=u.yAxis(h),u=u.xAxis(m),t=Number(r)?void 0!==n?E(n,[4,5,6,7,8,9,10,11],{yaxisName:e.getAxisConfig("axisName"),xaxisName:d.getAxisConfig("axisName"),yDataValue:t,xDataValue:u},k,f,b.config):(g?v.seriesname?v.seriesname+q:"":"")+"x:"+u+q+"y:"+t:H),a.lastHoveredPoint!==k&&this.highlightPoint(l,c,p,k,B,t)):this.highlightPoint(!1)},highlightPoint:function(c,b,a,d,e,f){var n=this,p=n.config,h=n.components,l=n.graphics,B=h.paper,k=l.tracker,g=(h=h.dataset[e])&&
h.config;e=h&&g.zoomedRadius||0;var m=h&&g.hoverCosmetics,h=m&&m.fill,g=m&&m.borderColor,m=m&&m.borderThickness,q={},q=function(a){w.plotEventHandler.call(this,n,a)},r=function(a){w.plotEventHandler.call(this,n,a,"dataplotRollover")},u=function(a){w.plotEventHandler.call(this,n,a,"dataplotRollout")},t=d&&d.link;k||(k=l.tracker=B.circle(0,0,0,l.trackerGroup).attr({"clip-rect":p.canvasLeft+","+p.canvasTop+","+p.canvasWidth+","+p.canvasHeight}).click(q).trackTooltip(!0).hover(r,u));d&&k.data("eventArgs",
{x:d.x,y:d.y,tooltip:f,link:t});p.lastHoveredPoint=d;q=Number(c)?{r:e,fill:h,stroke:g,"stroke-width":m}:{r:e,fill:D,stroke:D,"stroke-width":0};q.cursor=t?"pointer":"";k.attr(q).tooltip(f).transform("t"+(b+p.canvasLeft)+","+(a+p.canvasTop));d&&V("mouseover",k&&k.node,p.lastMouseEvent)},zoom:function(c){var b,a,d=this.config,e=d.viewPortConfig;b=e.x;a=e.y;var f=d.canvasWidth,d=d.canvasHeight,n=f/e.scaleX,p=d/e.scaleY,e=n*c;c*=p;e=e>f?f:e;c=c>d?d:c;b=b+n/2-e/2;a=a+p/2-c/2;b=0>b?0:b;a=0>a?0:a;b=b+e>f?
f-e:b;a=a+c>d?d-c:a;this.zoomSelection(b,a,e,c)},updateButtonVisual:function(){var c,b,a,d;a=this.config;var e=this.components.tb.graphics;c=a.status;var f;1>=a.viewPortHistory.length?(a=["zoomOutButton","resetButton","togglePanButton"],d=["zoomInButton"],f="toggleZoomInButton"):(d=["resetButton","zoomOutButton","zoomInButton"],a=[],"zoom"===c?(d.push("togglePanButton"),f="toggleZoomInButton"):"pan"===c&&(d.push("toggleZoomInButton"),f="togglePanButton"));for(c=0;c<a.length;c+=1)b=a[c],e[b].node.attr({config:{hover:{fill:"#FFFFFF",
"stroke-width":1,stroke:"#E3E3E3",cursor:"default"},normal:{fill:"#FFFFFF",stroke:"#E3E3E3","stroke-width":1,cursor:"default"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"default"},pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"}},fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],"button-disabled":!1,stroke:"#E3E3E3","stroke-opacity":1});for(c=0;c<d.length;c+=1)b=d[c],e[b].node.attr({config:{hover:{fill:"#FFFFFF","stroke-width":1,
stroke:"#aaaaaa",cursor:"pointer"},normal:{fill:"#FFFFFF",stroke:"#C2C2C2","stroke-width":1,cursor:"pointer"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"pointer"},pressed:{fill:"#EFEFEF","stroke-width":1,stroke:"#C2C2C2",cursor:"pointer"}},"button-disabled":!1,fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],stroke:"#C2C2C2","stroke-opacity":1});e[f].node.attr({config:{hover:{fill:"#EFEFEF","stroke-width":1,stroke:"#EFEFEF",cursor:"default"},normal:{fill:"#EFEFEF",
stroke:"#E3E3E3","stroke-width":1,cursor:"default"},disable:{fill:"#E6E6E6","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"default"},pressed:{fill:"#EFEFEF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"}},"button-disabled":!1,fill:["#EFEFEF","#EFEFEF","#EFEFEF","#EFEFEF",!0],stroke:"#E3E3E3","stroke-opacity":1})},_drawAxis:function(){}},G.scatterBase);FusionCharts.register("component",["dataset","zoomscatter",{type:"zoomscatter",configure:function(){var c,b,a,d,e,f,n;f=this.chart;
var p=f.config;d=f.jsonData.chart;var h=f.getFillColor,l=this.JSONData;this.__base__.configure.call(this);f=this.config;b=this.components;c=x(l.anchorbordercolor,d.anchorbordercolor);f.anchorBorderThickness=x(l.anchorborderthickness,d.anchorborderthickness,c?1:0);b.kDTree=new U;f.chunkSize=Math.floor(u((l.data||[]).length/5,5E4));c=f.staticRadius=J(d.staticradius,0);f.radius=J(l.radius,l.anchorradius,d.radius,d.anchorradius,c?3:.5);n=f.showHoverEffect;c=q(x(l.plotfillhovercolor,l.hovercolor,d.plotfillhovercolor,
d.hovercolor,f.anchorbgcolor));b=x(l.plotfillhoveralpha,l.hoveralpha,d.plotfillhoveralpha,d.hoveralpha,Q);a=q(x(l.plotfillhovercolor,l.hovercolor,d.plotfillhovercolor,d.hovercolor,c));e=x(l.plotfillhoveralpha,l.hoveralpha,d.plotfillhoveralpha,d.hoveralpha,Q);d=J(l.borderhoverthickness,d.borderhoverthickness,1);f.hoverCosmetics={showHoverEffect:n,fill:h(c,b),borderColor:h(a,e),borderThickness:d};f.tooltip={toolTipVisible:p.showtooltip,seriesNameInToolTip:p.seriesnameintooltip,toolTipSepChar:p.tooltipsepchar};
f.lastViewPort={}},draw:function(c){var b,a,d;b=this.graphics;d=this.chart;a=d.components;var e=d.graphics.imageContainer,f=a.paper;d=d.config;var n=this.visible,p=d.viewPortConfig,h=this.config,l=h.lastViewPort||{},k=!1;b.container||(b.container=f.group("grid-container",e));n&&this._conatinerHidden?this.show():n||this._conatinerHidden||this.hide();if(c)this._pixelatedDraw();else{if(l.scaleX!==p.scaleX||l.scaleY!==p.scaleY)l.scaleX=p.scaleX,l.scaleY=p.scaleY,c=a.xAxis[0],b=a.yAxis[0],a=c.getPVR(),
c=b.getPVR(),d=P(h.zoomedRadius=u(h.staticRadius?h.radius:h.radius*u(p.scaleX,p.scaleY),d.canvasWidth/2,d.canvasHeight/2),2),this.components.kDTree._setSearchLimit(d/a,d/c),this._deleteGridImages(),this.graphics._grid={},k=!0;this._gridDraw(k)}},_pixelatedDraw:function(){var c,b,a,d,e,f=this.chart.config;a=this.config;d=this.graphics;var n=a.drawLine,p=a.lastViewPort||{},h=p.scaleX,l=p.scaleY;e=f.viewPortConfig;var k=e.scaleX,g=e.scaleY,p=this.graphics._grid||(this.graphics._grid=[]),h=k/h,l=g/l,
g=f.canvasWidth*h,f=f.canvasHeight*l;a=a._batchDarwTimers;d=d.container;clearTimeout(this.timer);if(a&&a.length)for(;a.length;)clearTimeout(a.shift());d.transform("t"+C(-e.x*e.scaleX)+","+C(-e.y*e.scaleY));for(c in p)if(e=p[c])for(b in e)(d=e[b])&&d.drawState&&(a=d.image,a.attr({x:d.xPixel*h,y:d.yPixel*l,width:g,height:f}),n&&(a=d.lineImage,a.attr({x:d.xPixel*h,y:d.yPixel*l,width:g,height:f})))},_deleteGridImages:function(){var c,b,a,d,e;b=this.config;var f=this.graphics,n=f._imagePool||(f._imagePool=
[]),p=f._canvasPool||(f._canvasPool=[]),h=f._lineImagePool||(f._lineImagePool=[]),l=f._lineCanvasPool||(f._lineCanvasPool=[]),k=f._grid||[];if((b=b._batchDarwTimers)&&b.length)for(;b.length;)clearTimeout(b.shift());for(a in k)if(e=k[a])for(d in e)(b=e[d])&&b.drawState&&(c=b.image,c.attr({src:"",width:0,height:0}),n.push(c),delete b.image,c=b.canvas,p.push(c),delete b.canvas,delete b.ctx,c=b.lineImage)&&(c.attr({src:"",width:0,height:0}),h.push(c),delete b.lineImage,c=b.lineCanvas,l.push(c),delete b.lineCanvas,
delete b.lineCtx);delete f._grid},_gridDraw:function(c){var b=this,a=b.graphics,d=b.config,e=b.chart.config.viewPortConfig;clearTimeout(d.timer);a.container.transform("t"+C(-e.x*e.scaleX)+","+C(-e.y*e.scaleY));c?b._gridManager():d.timer=setTimeout(function(){b._gridManager()},10)},_gridManager:function(){var c,b,a,d,e,f,n,p,h,l=this,k=l.config,g=l.graphics._grid,m=k._drawGrid||(k._drawGrid=[]),q=l.chart,t=q.config,q=q.components;e=t.viewPortConfig;f=e.scaleX;var r=e.scaleY;n=Math.ceil(r);d=Math.ceil(f);
var F=q.xAxis[0],w=q.yAxis[0],q=F.getAxisConfig("axisDimention").axisLength||t.canvasWidth,t=t.canvasHeight,v=F.config,x=w.config,C=v.axisRange.min,v=v.axisRange.max,A=x.axisRange.min,x=x.axisRange.max,y=(v-C)/f,D=(x-A)/r;b=k.radius*u(e.scaleX,e.scaleY)+k.plotCosmetics.borderWidth;F=Z(b/(q*e.scaleX/(F.max-F.min)));w=Z(b/(t*e.scaleY/(w.max-w.min)));b=q/f;h=t/r;c=u(1,b/10,h/10);var r={},E=[];f=e.x+c;b=e.x-c+b;p=e.y+c;c=e.y+h-c;e=l._getFocusedGrid(f,p);h=r[e.row]||(r[e.row]={});h[e.col]=!0;e=l._getFocusedGrid(b,
p);h=r[e.row]||(r[e.row]={});h[e.col]=!0;e=l._getFocusedGrid(b,c);h=r[e.row]||(r[e.row]={});h[e.col]=!0;e=l._getFocusedGrid(f,c);h=r[e.row]||(r[e.row]={});h[e.col]=!0;f=l._getFocusedGrid();e=f.row;f=f.col;b=P(e-1,0);e=u(e+1,n-1);n=P(f-1,0);f=u(f+1,d-1);d=x-b*D;for(p=b;p<=e;p+=1){g[p]||(g[p]={});b=C+n*y;for(h=n;h<=f;h+=1)c=g[p][h],c||(a=P(d-D,A),c=u(b+y,v),c=g[p][h]={xPixel:h*q,yPixel:p*t,xMinValue:b,yMinValue:a,xMaxValue:c,yMaxValue:d,drawState:0,xMinWPad:P(b-F,C),yMinWPad:P(a-w,A),xMaxWPad:u(c+F,
v),yMaxWPad:u(d+w,x)}),c.drawState||(r[p]&&r[p][h]?m.push({row:p,col:h}):E.push({row:p,col:h})),b+=y;d-=D}(m.length||E.length)&&l._drawGridArr(function(){k._drawGrid=E;l._drawGridArr()})},_getFocusedGrid:function(c,b){var a=this.chart.config,d=a.viewPortConfig,e=a.canvasWidth/d.scaleX,a=a.canvasHeight/d.scaleY,f=isNaN(c)?d.x+e/2:c,d=isNaN(b)?d.y+a/2:b;return{row:ba(d/a),col:ba(f/e)}},_drawGridArr:function(c){var b,a,d,e,f=this.chart;b=f.config;var n=f.components,k=b.viewPortConfig,h=this.config,l=
h.drawLine,g=h._drawGrid,m=[],q=this.graphics.container,t=n.paper,n=n.xAxis[0].getAxisConfig("axisDimention").axisLength||b.canvasWidth,w=b.canvasHeight,r=this.graphics._grid,x=this.graphics._imagePool||[],C=this.graphics._canvasPool||[],v=this.graphics._lineImagePool||[],A=this.graphics._lineCanvasPool||[],y=h.plotCosmetics,k=h.radius*u(k.scaleX,k.scaleY),f=(f.components.xAxis[0].getAxisConfig("axisDimention").x||b.canvasLeft)-b.canvasLeft;if(g.length){for(;g.length;)b=g.shift(),b=r[b.row][b.col],
2!==b.drawState&&(b.drawState=2,l&&(b.lineImage=v.length?v.shift():t.image("",q),b.lineImage.attr({x:b.xPixel+f,y:b.yPixel,width:n,height:w}),b.lineCanvas=C.length?d=A.shift():d=S.document.createElement("canvas"),d.setAttribute("width",n),d.setAttribute("height",w),e=b.lineCtx=d.getContext("2d"),e.fillStyle=y.fillStyle,e.strokeStyle=y.lineStrokeStyle,e.lineWidth=y.lineWidth),b.image=x.length?x.shift():t.image("",q),b.image.attr({x:b.xPixel+f,y:b.yPixel,width:n,height:w}),b.canvas=C.length?a=C.shift():
a=S.document.createElement("canvas"),a.setAttribute("width",n),a.setAttribute("height",w),e=b.ctx=a.getContext("2d"),1>k?(e.strokeStyle=y.fillStyle,e.lineWidth=.5):(e.fillStyle=y.fillStyle,e.strokeStyle=y.strokeStyle,e.lineWidth=y.borderWidth),m.push(b));h._batchDrawindex=this.JSONData.data&&this.JSONData.data.length-1||0;this._drawGridArrBatch(m,c,!h.animation.enabled)}else c&&c()},_drawGridArrBatch:function(c,b,a){var d,e,f,n,k,h,l,g,m,q,t,w,r,u,x,v,y=this;h=y.config;var A=y.chart.components;v=
y.config;var D=v.drawLine;g=v.plotCosmetics;n=v._batchDrawindex;f=y.components.data;k=n-v.chunkSize;var E=A.yAxis[0],H=v.zoomedRadius,A=A.xAxis[0].getPVR(),E=E.getPVR(),I=h.showRegressionLine,J=v._store||[],G=g.lineWidth||1>H;I&&(u=h.regLineColor,x=h.regressionLineThickness);for(g=0;g<c.length;g+=1)c[g].ctx.beginPath(),D&&c[g].lineCtx.beginPath();for(k=0>=k?0:k;n>=k;--n)if((t=f[n]&&f[n].config.setValue)&&!isNaN(t.x)&&!isNaN(t.y))for(g=0;g<c.length;g+=1)(d=c[g],w=d.xMinValue,r=d.yMaxValue,t.x<d.xMinWPad||
t.x>d.xMaxWPad||t.y<d.yMinWPad||t.y>d.yMaxWPad||(m=d.ctx,q=d.lineCtx,d=C((t.x-w)*A),e=C((r-t.y)*E),(l=J[d])||(l=J[d]={}),l[e]))||(l[e]=!0,D&&(l=0<=n-1&&f[n-1].config.setValue)&&(q.moveTo(C((l.x-w)*A),C((r-l.y)*E)),q.lineTo(d,e)),1>H?(m.moveTo(d,e),m.lineTo(d+1,e)):(m.moveTo(d+H,e),m.arc(d,e,H,0,da)));for(g=0;g<c.length;g+=1)d=c[g],m=d.ctx,m.fill(),G&&m.stroke(),m.closePath(),D&&(q=d.lineCtx,q.fill(),G&&q.stroke(),q.closePath());v._batchDrawindex=n;if(0<=n){if(!a)for(g=0;g<c.length;g+=1)m=c[g].image,
f=c[g].canvas,m.attr({src:f.toDataURL("image/png")}),v.drawLine&&(u=c[g].lineImage,x=c[g].lineCanvas,u.attr({src:x.toDataURL("image/png")}));(v._batchDarwTimers||(v._batchDarwTimers=[])).push(setTimeout(function(){y.chart&&y._drawGridArrBatch(c,b,a)},0))}else{delete v._store;if(I)for(v=h.regressionData,g=0;g<c.length;g+=1)d=c[g],n=d.xMinValue,h=d.yMaxValue,m=d.image,f=d.canvas,m=d.ctx,f=(v[0].x-n)*A,k=(h-v[0].y)*E,n=(v[1].x-n)*A,h=(h-v[1].y)*E,m.beginPath(),m.strokeStyle=u,m.lineWidth=x,m.moveTo(f,
k),m.lineTo(n,h),m.stroke(),m.closePath();for(g=0;g<c.length;g+=1)d=c[g],m=d.image,f=d.canvas,d.drawState=1,m.attr({src:f.toDataURL("image/png")}),D&&(u=d.lineImage,x=d.lineCanvas,u.attr({src:x.toDataURL("image/png")}));y.tree||setTimeout(function(){y._buildKdTree()},250);b&&b()}},_buildKdTree:function(){var c=this.config;c._kdPoints=(this.JSONData.data||[]).slice();this.components.kDTree||(this.components.kDTree=new U);this.components.kDTree.buildKdTree(c._kdPoints);delete c._kdPoints},getElement:function(c){if(this.components.kDTree)return this.components.kDTree.getNeighbour(c)},
show:function(){var c=this.graphics,c=c&&c.container;this.visible=!0;this._conatinerHidden=!1;c.show()},hide:function(){var c=this.graphics,c=c&&c.container;this.visible=!1;this._conatinerHidden=!0;c.hide()},_addLegend:function(){var c=this.chart,b=c.jsonData.chart,a=this.config,d=this.JSONData,e=c.getFillColor,f=x(d.anchorbordercolor,b.anchorbordercolor),n=q(x(f,a.plotBorderColor)),f=J(d.anchorborderthickness,b.anchorborderthickness,f?1:0),k=q(x(d.anchorbgcolor,d.color,b.anchorbgcolor,a.plotColor)),
h=x(d.anchoralpha,d.alpha,b.anchoralpha,Q),b=x(d.anchorbgalpha,d.alpha,b.anchorbgalpha,Q),d={color:a.lineColor,alpha:a.lineAlpha},e=a.plotCosmetics={fillStyle:e(k,h*b/100),strokeStyle:e(n,h),borderWidth:f,lineWidth:a.lineThickness,lineStrokeStyle:g(d)};this.legendItemId=c.components.legend.addItems(this,this.legendInteractivity,{enabled:a.includeInLegend,type:this.type,fillColor:e.fillStyle,strokeColor:e.strokeStyle,anchorSide:2,strokeWidth:a.anchorBorderThickness,label:W(this.JSONData.seriesname)})},
_setConfigure:function(){var c,b,a,d,e,f,g,k,h,l=-Infinity,m=Infinity,q=Infinity,t=-Infinity,y=this.components.data||(this.components.data=[]);c=this.chart;var A=w.parseUnsafeString,r=this.config,C=this.JSONData,D=c.jsonData.chart,v=C.data||[],I=v.length,G=c.components.numberFormatter,K=A(D.yaxisname),L=A(D.xaxisname),M=r.lineDashed,N=r.lineDashStyle,O=r.parentYAxis,Q=r.toolTipSepChar,S=r.seriesname;for(c=0;c<I;c+=1)d=v[c],a=y[c]||(y[c]={}),b=a.config||(a.config={}),b.setValue=e={x:G.getCleanValue(d.x),
y:G.getCleanValue(d.y),index:c},t=P(t,e.x),q=u(q,e.x),l=P(l,e.y),m=u(m,e.y),r.showRegressionLine&&this.pointValueWatcher(e.x,e.y,r.regressionObj),b.setLink=x(d.link),b.anchorProps=this._parseAnchorProperties(c),b.showValue=J(d.showvalue,r.showValues),b.dashed=J(d.dashed,M),b.color=x(d.color,r.lineColor),b.alpha=x(d.alpha,r.lineAlpha),b.dashStyle=b.dashed?N:"none",b.toolTipValue=f=G.dataLabels(e.y,O),b.setDisplayValue=h=A(d.displayvalue),k=b.formatedVal=x(d.toolTipValue,G.dataLabels(e.y,O)),g=G.xAxis(e.x),
b.displayValue=x(h,f),b.setTooltext=w.getValidValue(A(x(d.tooltext,r.plotToolText))),r.showTooltip?void 0!==b.setTooltext?(e=[4,5,6,7,8,9,10,11],g={yaxisName:K,xaxisName:L,yDataValue:k,xDataValue:g},d=E(b.setTooltext,e,g,d,D,C)):null===k?d=!1:(d=S?S+Q:H,d+=e.x?g+Q:H,d+=f):d=!1,b.toolText=d,a?a.graphics||(y[c].graphics={}):a=y[c]={graphics:{}},b.hoverEffects=this._parseHoverEffectOptions(a),b.anchorProps.isAnchorHoverRadius=b.hoverEffects.anchorRadius;r.xMax=t;r.xMin=q;r.yMin=m;r.yMax=l;r.showRegressionLine&&
(r.regressionData=this.getRegressionLineSeries(r.regressionObj,r.showYOnX,I));this.ErrorValueConfigure&&this.ErrorValueConfigure()}},"Scatter"]);I.addSymbol({zoomInIcon:function(c,b,a){c-=.2*a;b-=.2*a;var d=.8*a,e=I.rad(43),f=I.rad(48),g=c+d*M(e),e=b+d*N(e),k=c+d*M(f),f=b+d*N(f),h=I.rad(45),l=g+a*M(h),m=e+a*N(h),q=k+a*M(h)-1;a=f+a*N(h)-1;return["M",g,e,"A",d,d,0,1,0,k,f,"Z","M",g+1,e+1,"L",l,m,q,a,k+1,f+1,"Z","M",c-2,b,"L",c+2,b,"Z","M",c,b-2,"L",c,b+2,"Z"]},zoomModeIcon:function(c,b,a){var d=[];
c-=.2*a;b-=.2*a;var e=.8*a,f=I.rad(43),g=I.rad(48),k=c+e*M(f),f=b+e*N(f),h=c+e*M(g),g=b+e*N(g),l=I.rad(45),m=k+a*M(l),q=f+a*N(l),t=h+a*M(l)-1;a=g+a*N(l)-1;return d=d.concat(["M",k,f,"A",e,e,0,1,0,h,g,"Z","M",k+1,f+1,"L",m,q,t,a,t+1,a-1,t+1.5,a+1.5,t-1,a+1,t,a,h+1,g+1,"Z","M",c-2,b,"L",c+2,b,"Z","M",c,b-2,"L",c,b+2,"Z"])},panModeIcon:function(c,b,a){var d=c-11.25,d=c;a*=2.5;return[].concat(["M",d-a/16,b-a/8,"L",d+a/16,b-a/8,"L",d+a/16,b-a/3.2,"L",d+6*a/32,b-10*a/32,"L",d,b-a/2,"L",d-6*a/32,b-10*a/
32,"L",d-a/16,b-a/3.2,"Z","M",d+4*a/32,b-2*a/32,"L",d+10*a/32,b-2*a/32,"L",d+10*a/32,b-6*a/32,"L",d+16*a/32,b,"L",d+10*a/32,b+6*a/32,"L",d+10*a/32,b+2*a/32,"L",d+4*a/32,b+2*a/32,"Z","M",d+2*a/32,b+5*a/32,"L",d+2*a/32,b+10*a/32,"L",d+6*a/32,b+10*a/32,"L",d,b+16*a/32,"L",d-6*a/32,b+10*a/32,"L",d-2*a/32,b+10*a/32,"L",d-2*a/32,b+5*a/32,"Z","M",d-4*a/32,b-2*a/32,"L",d-10*a/32,b-2*a/32,"L",d-10*a/32,b-6*a/32,"L",d-16*a/32,b,"L",d-10*a/32,b+6*a/32,"L",d-10*a/32,b+2*a/32,"L",d-4*a/32,b+2*a/32,"Z"])}})}]);
O&&(E.FusionCharts=FusionCharts);return FusionCharts});
